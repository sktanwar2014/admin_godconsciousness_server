{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","modules/WelcomeMessage.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","WelcomeMessage","props","useState","content","link","image_name","inputs","setInputs","fetchRecords","a","FetchAPI","getTabRelatedList","type","result","resultList","console","log","useEffect","handleChange","e","name","value","handleUpdate","preventDefault","doc","document","getElementById","files","isNullOrUndefined","FileReaders","toBase64","id","link_id","image_id","data","operation","title","image","date","addUpdateFormContent","alert","className","onSubmit","rows","required","onChange","style","float","color","paddingRight","class","align","accept","window","File","FileList","FileReader","file","undefined","fileReader","onload","setAttribute","readAsDataURL","src","API_URL"],"mappings":"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","file":"static/js/17.45f128ab.chunk.js","sourcesContent":["import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { useEffect, useState, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {isNullOrUndefined} from 'util';\r\n\r\n// import api\r\nimport FetchAPI from '../api/APIs.js';\r\n\r\n//Components\r\nimport Header from './Components/Header.js';\r\nimport Sidebar from './Components/Sidebar.js';\r\nimport { API_URL } from '../api/config/Constants.js';\r\nimport FileReaders from  '../utils/fileReader.js';\r\n\r\nexport default function WelcomeMessage(props){\r\n  const [inputs, setInputs] = useState({content: '', link: '', image_name: ''});\r\n  \r\n  const fetchRecords = async () => {\r\n    try{ \r\n      const result = await FetchAPI.getTabRelatedList({type: 'AboutWelcomeMessage'});\r\n      setInputs(result.resultList[0]);\r\n    }catch(e){\r\n      console.log('Error...',e);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchRecords();\r\n  },[]); \r\n\r\n      \r\n  const handleChange  = (e) => {\r\n    if(e.target.name === 'content'){\r\n      if((e.target.value).length  <= 700 ) {\r\n        setInputs({...inputs, [e.target.name]: e.target.value});\r\n      }\r\n    }else{\r\n      setInputs({...inputs, [e.target.name]: e.target.value});\r\n    }\r\n  }\r\n\r\n  const handleUpdate = async (e) => {\r\n    e.preventDefault();\r\n    try{\r\n      let doc = document.getElementById('uploadImage').files[0];\r\n      const data = {\r\n        operation: 'Update',\r\n        type : 'AboutWelcomeMessage',\r\n        title : '',\r\n        image : isNullOrUndefined(doc) ? '' : await FileReaders.toBase64(doc),\r\n        date : '',\r\n        content : inputs.content,\r\n        link :  inputs.link,\r\n        id : inputs.id,\r\n        link_id : inputs.link_id,\r\n        image_id : inputs.image_id,\r\n      }\r\n        const result = await FetchAPI.addUpdateFormContent(data);\r\n        alert('Update Successfully');\r\n        fetchRecords();\r\n    }catch(e){\r\n      console.log('Error...', e);\r\n    }\r\n  }\r\n\r\n  const handleFileChange = (e) => {\r\n    if (window.File && window.FileList && window.FileReader) {\r\n        let file = e.target.files[0];\r\n        if(file !== null && file !== undefined && file !== \"\"){\r\n            let fileReader = new FileReader();\r\n            fileReader.onload = (e) => {\r\n                document.getElementById(\"imageThumb\").setAttribute('src',e.target.result);\r\n                document.getElementById(\"imageThumb\").setAttribute('title', \"Selected image\");\r\n            }\r\n            fileReader.readAsDataURL(file);\r\n        }\r\n    } else {\r\n        alert(\"Your browser doesn't support to File API\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header />\r\n      <Sidebar />\r\n        <div className=\"sidebar-overlay\" id=\"sidebar-overlay\" />\r\n        <div className=\"sidebar-mobile-menu-handle\" id=\"sidebar-mobile-menu-handle\" />\r\n        <div className=\"mobile-menu-handle\" />\r\n        <article className=\"content responsive-tables-page\">\r\n          <div className=\"title-block\">\r\n            <h3 className=\"title\"> About Welcome Message </h3>\r\n            <p className=\"title-description\"></p>\r\n          </div>\r\n            <section className=\"section\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card-title-block\">\r\n                    <h3 className=\"title\"></h3>\r\n                  </div>\r\n                  <section className=\"example\">\r\n                    <div className=\"table-responsive\">\r\n                      <form onSubmit={handleUpdate}>\r\n                        <div className=\"card card-block\">\r\n                          <div className=\"form-group row\">\r\n                            <label className=\"col-sm-2 form-control-label text-xs-right\"> Message Content*  </label>\r\n                              <div className=\"col-sm-10\">\r\n                                <textarea id=\"content\" className=\"form-control boxed\" value ={inputs.content} rows=\"10\" type=\"text\" name=\"content\" required onChange={handleChange} />\r\n                                <p style={{float: 'right', color: 'red', paddingRight: '15px'}}>                                  \r\n                                  {`Character limit: ` + (700 - inputs.content.length)}\r\n                                </p>\r\n                              </div>\r\n                          </div>\r\n                          <div className=\"form-group row\">\r\n                            <label className=\"col-sm-2 form-control-label text-xs-right\"> Video Link*  </label>\r\n                              <div className=\"col-sm-10\">\r\n                                <input id=\"link\" className=\"form-control boxed\" value ={inputs.link} type=\"url\" name=\"link\" required onChange={handleChange} />\r\n                              </div>\r\n                          </div>\r\n                          <div className=\"form-group row\">\r\n                            <label className=\"col-sm-2 form-control-label text-xs-right\" > Upload Image* </label>\r\n                              <div className=\"col-sm-10\">\r\n                                <div class=\"field\" align=\"left\">\r\n                                    <input type=\"file\" className=\"form-control\" id=\"uploadImage\" name=\"uploadImage\" accept=\".png, .jpg, .jpeg\" onChange={handleFileChange} />\r\n                                </div>\r\n                                <span>\r\n                                  <img className=\"imageThumb\" id=\"imageThumb\" src={ API_URL + `/api/images?path=AboutWelcomeMessage/` + inputs.image_name} />\r\n                                </span>\r\n                              </div>\r\n                          </div>\r\n                          <div className=\"form-group row\">\r\n                            <div className=\"col-sm-10 col-sm-offset-2\">\r\n                              <button type=\"submit\"  className=\"btn btn-primary\"> Update </button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                  </section>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </article>\r\n    </Fragment>\r\n  )\r\n}\r\n"],"sourceRoot":""}