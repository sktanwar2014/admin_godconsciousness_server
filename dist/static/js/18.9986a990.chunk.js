(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[18],{84:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return v}));var n=t(33),r=t.n(n),c=t(34),l=t(38),s=t(0),i=t.n(s),m=t(41),o=t(31),u=t(32),b=t(35),d=t(3),p=t(42),g=t.n(p);function v(e){var a=e.location.state.type,t="",n="";switch(a){case"Home":n="Home",t="/home";break;case"Event":n="Event",t="/Events";break;case"Miracle":n="Miracle",t="/Miracles";break;case"Direction":n="Direction",t="/Directions";break;case"OBE":n="OBE",t="/OBEs";break;case"Prayer":n="Prayer",t="/Prayers";break;case"Contact":n="Contact",t="/Contact";break;case"About":n="About",t="/home";break;case"Blog":n="Blogs",t="/Blog";break;case"DimpleAnil":n="DimpleAnil",t="/DimpleAnil";break;case"AboutGC":n="AboutGC",t="/AboutGC";break;case"Introduction":n="Introduction",t="/Introduction"}var p=Object(s.useState)([]),v=Object(l.a)(p,2),E=v[0],f=v[1],h=Object(s.useState)(""),I=Object(l.a)(h,2),y=I[0],k=I[1],w=Object(s.useState)(0),B=Object(l.a)(w,2),N=B[0],A=B[1];Object(s.useEffect)((function(){O()}),[]);var O=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.getPrevBannerImage({type:"banner"+a});case 3:t=e.sent,f(t.imageList),(!Object(m.isNullOrUndefined)(t.imageList)&&t.imageList.length>0?t.imageList:[]).map((function(e){1===e.is_active&&k(e)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error...",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),j=function(e){var a=e.target.name.split("-")[1];(E.length>0?E:[]).map((function(e){e.id==Number(a)&&(k(e),A(2))}))},C=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,n="",c=0,1!==N){e.next=10;break}return e.next=7,g.a.toBase64(document.getElementById("bannerImage").files[0]);case 7:n=e.sent,e.next=11;break;case 10:2===N&&(c=y.id);case 11:return e.next=13,b.a.updateBannerProduct({picType:N,imageId:c,document:n,type:"banner"+a});case 13:e.sent,alert("Image Updated Successfully"),O(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log("Error...",e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(a){return e.apply(this,arguments)}}();return i.a.createElement("div",null,i.a.createElement(o.a,null),i.a.createElement(u.a,null),i.a.createElement("div",{className:"sidebar-overlay",id:"sidebar-overlay"}),i.a.createElement("div",{className:"sidebar-mobile-menu-handle",id:"sidebar-mobile-menu-handle"}),i.a.createElement("div",{className:"mobile-menu-handle"}),i.a.createElement("article",{className:"content responsive-tables-page"},i.a.createElement("div",{className:"title-block"},i.a.createElement("h3",{className:"title"}," "," Banner Image >>> "+n,i.a.createElement("a",{href:t},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"),i.a.createElement("span",{className:"sr-only"},"Close"))),i.a.createElement("span",{className:"sparkline bar","data-type":"bar"}))),i.a.createElement("form",{onSubmit:C,class:"p-5 bg-light b-top-dark"},i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{class:"col-md-12"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",{for:"description"},"Previous Images *"),i.a.createElement("div",{className:"w-100"},(E.length>0?E:[]).map((function(e){return i.a.createElement("span",null,i.a.createElement("img",{class:"imageBox",name:"prevImage-"+e.id,src:d.b+"/api/images?path=bannerImages/"+e.image_name,onClick:j}))}))))),i.a.createElement("div",{class:"col-md-12"},i.a.createElement("div",{class:"form-group"},i.a.createElement("div",{class:"field",align:"left"},i.a.createElement("label",{for:"bannerImage"},"Choose File to upload new image"),i.a.createElement("input",{type:"file",className:"form-control",id:"bannerImage",name:"bannerImage",accept:".png, .jpg, .jpeg",onChange:function(e){if(window.File&&window.FileList&&window.FileReader){var a=e.target.files[0];if(null!==a&&void 0!==a&&""!==a){var t=new FileReader;t.onload=function(e){document.getElementById("bannerImageThumb").setAttribute("src",e.target.result),document.getElementById("bannerImageThumb").setAttribute("title","Selected image")},t.readAsDataURL(a),A(1)}}else alert("Your browser doesn't support to File API")},required:0===E.length}))),i.a.createElement("span",null,i.a.createElement("img",{className:"imageThumb",id:"bannerImageThumb",src:d.b+"/api/images?path=bannerImages/"+y.image_name}),i.a.createElement("br",null),i.a.createElement("span",{className:"remove",onClick:function(e){document.getElementById("bannerImageThumb").removeAttribute("src"),document.getElementById("bannerImageThumb").removeAttribute("title"),document.getElementById("bannerImage").value="",A(0)}},"Remove image"))),i.a.createElement("div",{class:"col-md-12"},i.a.createElement("input",{type:"submit",value:"Update",class:"btn  px-4 btn-primary"}))))))}}}]);
//# sourceMappingURL=18.9986a990.chunk.js.map